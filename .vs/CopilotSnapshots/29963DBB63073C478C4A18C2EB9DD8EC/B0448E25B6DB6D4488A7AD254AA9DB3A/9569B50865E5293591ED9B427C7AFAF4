@page
@model YourNamespace.Pages.TestModel
@{
    ViewData["Title"] = "Test";
}
<link rel="stylesheet" href="~/css/test.css" />

<div class="test-wrap">
    <div class="test-header">
        <h1 class="test-title">Test – 50 otázek</h1>
        <div class="test-controls">
            <input id="questionSlider" class="test-slider" type="range" min="1" max="50" value="1" />
            <span class="badge" id="questionBadge">1 / 50</span>
        </div>
    </div>

    <div id="cards" class="test-grid">
        @for (var i = 1; i <= 50; i++)
        {
            <article class="card@(i == 1 ? " active" : "")" data-index="@i">
                <div class="card-number">Otázka @i</div>
                <div class="card-question">Tohle je demo otázka číslo @i. Nahraď text vašimi otázkami.</div>
                <div class="answers">
                    <label><input type="radio" name="q@i" value="A" />A) Možnost</label>
                    <label><input type="radio" name="q@i" value="B" />B) Možnost</label>
                    <label><input type="radio" name="q@i" value="C" />C) Možnost</label>
                    <label><input type="radio" name="q@i" value="D" />D) Možnost</label>
                </div>
            </article>
        }
    </div>

    <div class="nav">
        <button id="prevBtn" class="btn">Předchozí</button>
        <button id="nextBtn" class="btn">Další</button>
    </div>
</div>

@section Scripts {
<script>
(function(){
    const cards = Array.from(document.querySelectorAll('.card'));
    const slider = document.getElementById('questionSlider');
    const badge = document.getElementById('questionBadge');
    const prev = document.getElementById('prevBtn');
    const next = document.getElementById('nextBtn');
    let index = 1;

    function show(i){
        index = Math.max(1, Math.min(50, i));
        cards.forEach(c => c.classList.toggle('active', Number(c.dataset.index) === index));
        slider.value = index;
        badge.textContent = `${index} / 50`;
        prev.disabled = index === 1;
        next.disabled = index === 50;
        // scroll to card top
        const active = document.querySelector('.card.active');
        active?.scrollIntoView({behavior:'smooth', block:'start'});
    }

    slider.addEventListener('input', e => show(Number(e.target.value)));
    prev.addEventListener('click', () => show(index - 1));
    next.addEventListener('click', () => show(index + 1));

    show(1);
})();
</script>
}